<!DOCTYPE html>
<html>
	<head>
	<base id="baseURL" href="/api-documentation/" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=10, user-scalable=yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />
<link rel="icon" type="image/png" href="/img/favicon/favicon-16x16.png" sizes="16x16">
<meta name="msapplication-TileColor" content="#65d3f7">
<meta name="msapplication-TileImage" content="/img/favicon/mstile-150x150.png">

<title></title>
<meta name="description" content="Understanding Jenkins scripts, jobs, jobs parameters and variables"/>

<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Cache-Control" content="no-store" />
<meta http-equiv="pragma" content="no-cache" />
<meta name="last-modified" content="2020-12-21 12:13:00 +0530">
<meta http-equiv="Expires" content="600" />

<!--Build Details-->
<meta name="buildVersion" content="" />
<meta name="buildNo" content="2847" />
<meta name="version" id="docsVersion" content="api-documentation" />
<!--/Build Details-->


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,600,700" >
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" >
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css?21122020"  />

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js?21122020"></script>
<script type="text/javascript" src="/js/jquery.tocLight.js?21122020"></script>
<script type="text/javascript" src="/js/jquery.elevateZoom-3.0.8.min.js?21122020"></script>
<script type="text/javascript" src="/js/handlebars-v4.0.11.js?21122020"></script>
<script type="text/javascript" src="/js/widgets-data.js?21122020"></script>
<script type="text/javascript" src="/js/widgets.js?21122020"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106552125-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-106552125-1');
</script>
<script>
function resetBase(){
	currentURLArray = window.location.pathname.split( '/' );
    secondLevelLocation = currentURLArray[1];
    if (secondLevelLocation == 'latest'){
		baseURL = document.getElementById('baseURL');
		baseURL.href="/latest/";
	}
}
resetBase();
</script>

	
		<meta name="robots" content="index, follow">
	
  </head>
  <body id="body" class="doc-layout">
  <div class="container inner container-height docs">
    <header class="logo-container">
      <div class="logo">
        <a href="https://www.sunbird.org" target="_blank">
          <img src="/img/sunbird-logo.png" alt="Sunbird" title="Sunbird">
        </a>
      </div>
      <button type="button" class="dropdown-toggle collapsed" id="dropdown-trigger" data-toggle="collapse" data-target="#mobile-dropdown" aria-expanded="false">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </button>
    </header>
    <nav class="sidebar-container" id="mobile-dropdown">
      <div class="inner__sidebar">
        

<div id="" class="sidebar-cover">
	
	 <div class="search-cover">
	<form method="get" action="https://www.google.com/search" target="_blank">
		<input type="text" value="" name="q" placeholder="Search"/ class="search-input" title="Enter keyword to search">
		<input type="hidden" value="en" name="hl" />
		<input type="hidden" name="sitesearch" value="http://docs.sunbird.org" />
		<input type="hidden" value="lang_en" name="lr" />
		<button type="submit" onclick="submit()" class="search-btn" title="Search">
			<i class="fa fa-search"></i>
		</button>
	</form>
</div>
 
	<div id="widgetVersionSwitcher"></div>
	
	<div class="sidebar-wrapper developer-docs"> 
		
			
				
				
				<div class="active">
					<a href="developer-docs/" >
						<h4 class="sidebar-group-title">Developer Documentation</h4>
					</a>
					
					<ul class="sidebar-group">
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/server-installation/" 
										 
										class="" 
										> 
										Server Installation
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/server-installation/prerequisites/" 
												
												class="" 
												>
												Prerequisites
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/load_balancer_setup/" 
												
												class="" 
												>
												Load Balancer Setup
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/ansible-variables/" 
												
												class="" 
												>
												Ansible Variables Setup
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/jenkins-setup/" 
												
												class="" 
												>
												Jenkins Setup
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/understanding-jenkins-scripts-jobs-parameters-and-variables/" 
												
												class="" 
												>
												Understanding Jenkins Scripts
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/running-build-artifact-uploads-and-deployments/" 
												
												class="" 
												>
												Running Builds, Artifact Uploads and Deployments
											</a>
											<ul class="sidebar-group">
												
													<li>
														
														<a  
															href="developer-docs/server-installation/artifactupload-job/" 
															
															class="" 
															>
															Artifact Upload Jobs
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/server-installation/knowledge-platform/" 
															
															class="" 
															>
															Knowledge Platform
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/server-installation/data-pipeline/" 
															
															class="" 
															>
															Data Pipeline
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/server-installation/core-services/" 
															
															class="" 
															>
															Core Services
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/server-installation/plugins/" 
															
															class="" 
															>
															Plugins
														</a>
													</li>
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/jenkins-tweaks/" 
												
												class="" 
												>
												Jenkins Tweaks
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/keycloak_user_federation/" 
												
												class="" 
												>
												Keycloak User Federation
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-installation/post_installation_configuration/" 
												
												class="" 
												>
												Post Installation Configuration
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/server-configurations/" 
										 
										class="" 
										> 
										Server Configurations
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/env_variables_portal/" 
												
												class="" 
												>
												Portal Service Environment Variables
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/env_variables_content_service/" 
												
												class="" 
												>
												Content Service Environment Variables
											</a>
											<ul class="sidebar-group">
												
													<li>
														
														<a  
															href="developer-docs/server-configurations/configuring_domain_ext_links/" 
															
															class="" 
															>
															Import External Content
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/server-configurations/content_filtering/" 
															
															class="" 
															>
															Content Filtering
														</a>
													</li>
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/system_settings/" 
												
												class="" 
												>
												System Settings
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/configuring_email_notification/" 
												
												class="" 
												>
												Email Notification Configuration
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/content_checklist_configuration/" 
												
												class="" 
												>
												Reviewer Checklist
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/metadata_driven_forms/" 
												
												class="" 
												>
												Metaforms Configuration
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/server-configurations/env_variables_lms/" 
												
												class="" 
												>
												LMS Service Environment Variables
											</a>
											<ul class="sidebar-group">
												
													<li>
														
														<a  
															href="developer-docs/server-configurations/sso_otpsms/" 
															
															class="" 
															>
															OTP based SMS Configuration
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/server-configurations/keycloak_admin_config_settings/" 
															
															class="" 
															>
															Keycloak Admin Configuration
														</a>
													</li>
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/developer-installation/" 
										 
										class="" 
										> 
										Developer Installation
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/developer-installation/install_sbportal" 
												
												class="" 
												>
												Portal
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/mobile-app-installation/" 
										 
										class="" 
										> 
										Mobile App Installation
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/mobile-app-installation/mobile_app_forms" 
												
												class="" 
												>
												Mobile App forms
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/upgrade/" 
										 
										class="" 
										> 
										Upgrading Sunbird
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/upgrade/jenkins_updates/" 
												
												class="" 
												>
												Update Jenkins
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/upgrade/update_ansible_variables/" 
												
												class="" 
												>
												Update Ansible Variables
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/upgrade/build_n_deploy/" 
												
												class="" 
												>
												Build and Deploy
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/onboarding/" 
										 
										class="" 
										> 
										Onboarding
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/singlesignon/org_user_creation_sso/" 
												
												class="" 
												>
												Creating Organizations and Users
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="features-documentation/badging_framework/creating_badges/" 
												
												class="" 
												>
												Creating Badges
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="features-documentation/badging_framework/badges_users/" 
												
												class="" 
												>
												Issuing Badges to Users
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/configuring_sunbird/configuring_announcement/" 
												
												class="" 
												>
												Creating Announcements
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/how-to-guide/overview_howto/" 
										 
										class="" 
										> 
										How-To-Guides
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_create_framework_in_sunbird/" 
												
												class="" 
												>
												Creating Framework
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_seeddata_in_framework/" 
												
												class="" 
												>
												Adding Content to Framework
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_create_organization/" 
												
												class="" 
												>
												Creating Organizations
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_create_user/" 
												
												class="" 
												>
												Creating Users
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_create_org_add_user/" 
												
												class="" 
												>
												Adding User to Organization
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_create_course_using_api/" 
												
												class="" 
												>
												Creating Course
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_upload_existing_content/" 
												
												class="" 
												>
												Uploading Content
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/how_to_create_badge/" 
												
												class="" 
												>
												Creating Badges
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/metadata_driven_forms" 
												
												class="" 
												>
												Configuring Metaforms
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/link_dial_code_to_a_book" 
												
												class="" 
												>
												Linking DIAL Code
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/telemetry_data_consumption" 
												
												class="" 
												>
												Consuming Telemetry Data
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/how-to-guide/sync_telemetry_data_captured_from_offline_devices" 
												
												class="" 
												>
												Syncing Telemetry Data
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/telemetry/overview/" 
										 
										class="" 
										> 
										Telemetry
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/telemetry/specification/" 
												
												class="" 
												>
												Telemetry Specifications
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/telemetry/sending_telemetry/" 
												
												class="" 
												>
												Sending Telemetry
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/telemetry/consuming_telemetry/" 
												
												class="" 
												>
												Consuming Telemetry Data
											</a>
											<ul class="sidebar-group">
												
													<li>
														
														<a  
															href="developer-docs/telemetry/consuming_telemetry/#mobile-app-workflow" 
															
															class="" 
															>
															Mobile App Workflow
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/telemetry/consuming_telemetry/#web-portal-workflow" 
															
															class="" 
															>
															Web Portal Workflow
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/telemetry/consuming_telemetry/#content-editor-workflow" 
															
															class="" 
															>
															Content Editor Workflow
														</a>
													</li>
												
													<li>
														
														<a  
															href="developer-docs/telemetry/consuming_telemetry/#backend-services-workflow" 
															
															class="" 
															>
															Backend-services Workflow
														</a>
													</li>
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								<div class="">
									
									<a 
										href="developer-docs/library_reference/" 
										 
										class="" 
										> 
										Library References
									</a>
									<ul class="sidebar-group">
										
										<li>
											
											<a  
												href="developer-docs/telemetry/jslibrary/" 
												
												class="" 
												>
												Standalone JS Library
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/telemetry/htmlinterfacelibrary/" 
												
												class="" 
												>
												HTML Interface Library
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
										<li>
											
											<a  
												href="developer-docs/telemetry/authtokengenerator_jslibrary/" 
												
												class="" 
												>
												AuthToken Generator JS Library
											</a>
											<ul class="sidebar-group">
												
											</ul>
										</li>
										
									</ul>
								</div>
							
						</li>
					
						<li>
							
								
								<a 
									href="developer-docs/troubleshooting/" 
									
									class="" 
									>
									Troubleshooting
								</a>
							
						</li>
					
					</ul>
					
				</div>
			
				
				
				<div class="">
					<a href="apis/" >
						<h4 class="sidebar-group-title">API Reference Documentation</h4>
					</a>
					
					<ul class="sidebar-group">
					
						<li>
							
								
								<a 
									href="apis/#feature" 
									
									class="" 
									>
									Feature
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="apis/#admin-apis" 
									
									class="" 
									>
									Administration
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="apis/#setup-apis" 
									
									class="" 
									>
									Setup
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="apis/#data-apis" 
									
									class="" 
									>
									Data
								</a>
							
						</li>
					
					</ul>
					
				</div>
			
				
				
				<div class="">
					<a href="/contributions/" >
						<h4 class="sidebar-group-title">Contribute to Sunbird</h4>
					</a>
					
					<ul class="sidebar-group">
					
						<li>
							
								
								<a 
									href="/contributions/filing_a_bug" 
									
									class="" 
									>
									Guidelines for Filing a Bug
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="/contributions/contribution_guidelines" 
									
									class="" 
									>
									Contributing to Sunbird Documentation
								</a>
							
						</li>
					
					</ul>
					
				</div>
			
				
				
				<div class="">
					<a href="faqs/" >
						<h4 class="sidebar-group-title">Frequently asked questions</h4>
					</a>
					
					<ul class="sidebar-group">
					
						<li>
							
								
								<a 
									href="faqs/audience/" 
									
									class="" 
									>
									Audience
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/content_format/" 
									
									class="" 
									>
									Content Format
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/content_repo/" 
									
									class="" 
									>
									Content Repositories
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/contentreviews/" 
									
									class="" 
									>
									Content Review
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/content_types/" 
									
									class="" 
									>
									Content Types
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/content_upload/" 
									
									class="" 
									>
									Content Upload
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/feature/" 
									
									class="" 
									>
									Features
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/fixerrors/" 
									
									class="" 
									>
									Fix Errors
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/helpsupport/" 
									
									class="" 
									>
									Help Support
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/intellectual_propertylicensesstandards/" 
									
									class="" 
									>
									Intellectual Property Licenses Standards
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/registrationenrolment/" 
									
									class="" 
									>
									Registration and Enrollment
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/signin/" 
									
									class="" 
									>
									Sign In
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/taxonomymetadataframework/" 
									
									class="" 
									>
									Taxonomy Metadata Framework
								</a>
							
						</li>
					
						<li>
							
								
								<a 
									href="faqs/user_rightspermissions/" 
									
									class="" 
									>
									Users Rights and Permission
								</a>
							
						</li>
					
					</ul>
					
				</div>
			
				
				
				<div class="">
					<a href="glossary/" >
						<h4 class="sidebar-group-title">Glossary</h4>
					</a>
					
				</div>
				
		
	</div>
</div>

<script>
	$("a[href$='developer-docs/server-installation/understanding-jenkins-scripts-jobs-parameters-and-variables/']").addClass("sidebar-link-selected");
</script>

      </div>
    </nav>
    <div class="content">
      <div class="inner__content header" id="heading">
        <h1>Understanding Jenkins Scripts </h1>
      </div>

      <div id="main-content" class="inner__content">
			<p class="edit-para text-right">
				<span>
			<!--<a target="_blank" class="contribute" href="/contributions/contribution_guidelines/">
				  <i class="fa fa-book" aria-hidden="true"></i> <i>Contribution Guidelines</i>
			  </a> &nbsp;&nbsp;-->
			  
			 <a target="_blank"  title="Edit this page"class="" href="https://github.com/project-sunbird/sunbird.org-docs/edit/api-documentation/developer-docs/server-installation/understanding-jenkins-scripts-jobs-parameters-and-variables.md">
				  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit
			  </a> 
			  | 
			  <a target="_blank" href="https://github.com/project-sunbird/sunbird.org-docs/issues" title="Report issue">
				  <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
				  Report
			  </a>
			  </span>
			</p>
			<div class="widgetLatestVersionNotification"></div>
          <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
            <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#overview"><span class="tocnumber">1 .</span> <span class="toctext">Overview</span></a>
            </li>
            <li class="toc_level-1 toc_section-2">
              <a href="#script-details"><span class="tocnumber">2 .</span> <span class="toctext">Script Details</span></a>
            </li>
            <li class="toc_level-1 toc_section-3">
              <a href="#jenkins-setup-variables"><span class="tocnumber">3 .</span> <span class="toctext">Jenkins Setup Variables</span></a>
            </li>
            <li class="toc_level-1 toc_section-4">
              <a href="#jenkins-environment-variables"><span class="tocnumber">4 .</span> <span class="toctext">Jenkins Environment Variables</span></a>
            </li>
            <li class="toc_level-1 toc_section-5">
              <a href="#job-parameters"><span class="tocnumber">5 .</span> <span class="toctext">Job Parameters</span></a>
              <ul>
                <li class="toc_level-2 toc_section-6">
                  <a href="#build-jobs"><span class="tocnumber">5.1 .</span> <span class="toctext">Build Jobs</span></a>
                </li>
                <li class="toc_level-2 toc_section-7">
                  <a href="#artifact-upload-jobs"><span class="tocnumber">5.2 .</span> <span class="toctext">Artifact Upload Jobs</span></a>
                </li>
                <li class="toc_level-2 toc_section-8">
                  <a href="#deploy-jobs"><span class="tocnumber">5.3 .</span> <span class="toctext">Deploy Jobs</span></a>
                </li>
                <li class="toc_level-2 toc_section-9">
                  <a href="#summary-jobs"><span class="tocnumber">5.4 .</span> <span class="toctext">Summary Jobs</span></a>
                </li>
                <li class="toc_level-2 toc_section-10">
                  <a href="#artifact-pushes"><span class="tocnumber">5.5 .</span> <span class="toctext">Artifact Pushes</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-11">
              <a href="#log-rotation"><span class="tocnumber">6 .</span> <span class="toctext">Log Rotation</span></a>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h2 id="overview">Overview</h2>
<p>To effectively do the Jenkins setup, it is important to understand the various scripts, jobs, job parameters and variables involved. This page provides details of all these.</p>

<h2 id="script-details">Script Details</h2>

<p>The following scripts are used by Sunbird for the Jenkins setup.</p>

<table>
  <thead>
    <tr>
      <th>Script Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>jenkins-server-setup.sh</td>
      <td>This script installs Jenkins and other packages like Maven, Ansible, Pip, etc.</td>
    </tr>
    <tr>
      <td>jenkins-plugins-setup.sh</td>
      <td>This script downloads the m2 repo, if it does not exist and installs the plugins using Butler. The plugin list can be found in the plugins.txt file.</td>
    </tr>
    <tr>
      <td>jenkins-jobs-setup.sh</td>
      <td>This script takes the <strong>envOrder.txt</strong> file as the input and creates the jobs directory in <strong>/var/lib/jenkins</strong>. The jobs directory in <strong>sunbird-devops/deploy/jenkins</strong> is the base for this script, and uses it to create the folder structure.</td>
    </tr>
  </tbody>
</table>

<h2 id="jenkins-setup-variables">Jenkins Setup Variables</h2>

<p>The following variables are used for Jenkins setup.</p>

<table>
  <thead>
    <tr>
      <th>Variable Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ops_ssh_key</td>
      <td>The private key value used to create the VM. It is considered the master key used to can connect to the VM’s.</td>
    </tr>
    <tr>
      <td>deployer_ssh_key</td>
      <td>The new key generated on a local machine or any other machine. Ansible creates a new user on all the VM’s during the bootstrap process. The user name is found in the common.yml file. After this user is created, Ansible uses this key for all Jenkins jobs. The private key content is copied into this file during the Jenkins setup. The public key will be sprayed to all VM’s during the bootstrap process.</td>
    </tr>
    <tr>
      <td>vault-pass</td>
      <td>The password to decrypt to files encrypted using Ansible-vault. <br />The best practice is to encrypt the <strong>secrets.yml</strong> file using Ansible-vault and push it to the private github repo. When Ansible runs, it checks out this file and decrypts it using the vault-pass file. <br />Even if the <strong>secrets.yml</strong> file is not encrypted, it is a must to enter a value in this file. If the file is empty, Ansible will throw an error even if there are no files to decrypt.</td>
    </tr>
  </tbody>
</table>

<h2 id="jenkins-environment-variables">Jenkins Environment Variables</h2>

<p>The following environment variables are used for Jenkins setup.</p>

<table>
  <thead>
    <tr>
      <th>Variable Name</th>
      <th>Description</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>hub_org</td>
      <td>This is your docker username, docker organisation name.</td>
      <td> </td>
    </tr>
    <tr>
      <td>private_repo_branch</td>
      <td>The branch name in your private repo where the Ansible hosts, common.yml and secrets.yml files exist.</td>
      <td> </td>
    </tr>
    <tr>
      <td>private_repo_url</td>
      <td>The URL of your private repository. After the repository is created, the URL can be obtained from the browser URL or on clicking the <strong>Clone or Download</strong> button on GitHub. It display an https URL.</td>
      <td> </td>
    </tr>
    <tr>
      <td>private_repo_credentials</td>
      <td>The ID field value from Jenkins. After the username and password of the private repo are added in the Jenkins global credentials field, it displays an auto generated ID or the user can set a unique ID.</td>
      <td> </td>
    </tr>
    <tr>
      <td>public_repo_branch</td>
      <td>This is a unique variable. All the jobs in Jenkins are by default configured to checkout the Jenkins file from this variable as ${public_repo_branch}. For example, assign the value release-2.8.0 to this variable, the Jenkins jobs checkout the Jenkins file from release-2.8.0 branch, from the URL, configured in the job. If the value is refs/tags/release-2.8.0, then Jenkins checks out the file from the tag release-2.8.0. You can change this variable in the Jenkins job configurations and specify a branch or tag name. It is useful when you want to run some jobs from a different branch or tag instead of the value mentioned in the variable.</td>
      <td> </td>
    </tr>
    <tr>
      <td>deploy-conf</td>
      <td>The name of the library that is used in the Jenkinsfile. This file is used in the global pipeline libraries section. When the Jenkinsfile has this library name, it checks out a couple of common libraries from the URL configured in this section. The Jenkinsfile requires these libraries to run. To avoid writing the same code at multiple places, <strong>common code</strong> is placed in a separate branch and all the Jenkinsfile can use this common code by calling it as a function. If this name is changed, ensure the name in Jenkinsfile is also changed to the new library name</td>
      <td>.</td>
    </tr>
    <tr>
      <td>override_public_branch</td>
      <td>This variable is used to enable or disable the parameter private_branch in Jenkins jobs. If the value of this variable is true, it gives you an option to enter the private branch in case you want to use a different branch for specific jobs essentially overriding the global variable private_repo_branch.</td>
      <td> </td>
    </tr>
    <tr>
      <td>override_private_branch</td>
      <td>This variable is used to enable or disable the parameter branch_or_tag. If you set the value of this variable to true, it will give you an option to enter the tags for different repositories. This is useful when different repositories have different tags. Using this variable, you can override the global variable public_repo_branch.</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="job-parameters">Job Parameters</h2>

<h3 id="build-jobs">Build Jobs</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>github_release_tag</td>
      <td>Specify a tag name from which you want the build, example - release-2.8.0. It looks for a tag named release-2.8.0 in the repository URL configured in the Jenkins job and checks out the code from this tag. This tag is different from public_repo_branch which is used only to check out the Jenkinsfile which has all the build logic.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note:</strong> Even if the <strong>public_repo_branch</strong> is configured to a tag name, you need to provide a tag name in this parameter box when running the build. If this is empty, it will checkout code from the tag specified in <strong>public_repo_branch</strong> but it will not tag build artifact with the tag name. Instead it will tag it with commit hash which is undesirable when you want to build from tag. All build jobs create an artifact <strong>metadata.json</strong> that has details such as artifact/docker image name and version, and the Jenkins slave on which it was built.</p>
</blockquote>

<h3 id="artifact-upload-jobs">Artifact Upload Jobs</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>absolute_job_path</td>
      <td>The path from where the <strong>metadata.json</strong> file is copied. The <strong>metadata.json</strong> file contains important information like name and version of artifact/docker image and the Jenkins slave on which it was built. It is not recommended to change this value. All jobs in Jenkins heavily rely on the <strong>metadata.json</strong> file to obtain the needed information and the path to this file is critical. For all ArtifactUpload jobs, the <strong>metadata.json</strong> file is copied from the build jobs.</td>
    </tr>
    <tr>
      <td>Image_tag</td>
      <td>This is available for docker container jobs. This field may have a value or may be blank. By default when the ArtifactUpload job runs, it copies the image name and image tag from the <strong>metadata.json</strong> file and pushes it to the container registry specified in <strong>hub_org</strong>. As an example scenario, let us see when we need to provide the value in this field. Let’s say the build job X with build number 1 completed and triggers the ArtifactUpload job. For some reason, the ArtifactUpload job fails and it could not push the image built by the build job X in build number 1. The build job X runs again after some new commits and triggers the ArtifactUpload job. This time the upload jobs pushes the image to <strong>hub_org</strong>. But the image build in build number 1 is not available in the docker hub as the upload failed. In this scenario, go to the build number 1 of job X and copy the image tag from metadata.json file. Paste the image tag value in this parameter of the upload job. This will push that specific version of the image to <strong>hub_org</strong>.</td>
    </tr>
    <tr>
      <td>build_number</td>
      <td>This is same as the <strong>image_tag</strong> of docker builds, except that it is used for other type of jobs where zip / tar / jar type artifacts are created. This field is optional and may be blank. Apply the same scenario explained above to this field in order to understand the usage of this field. Since these are artifacts and not containers, you need to use the build job number to copy the artifact. Every new run of any job will clear the workspace but the artifacts are archived on the Jenkins master.</td>
    </tr>
    <tr>
      <td>artifact_source</td>
      <td>For docker jobs, this parameter is default as <strong>ArtifactRepo</strong> and cannot be changed. All containers must be pushed to some hub so that it can be pulled from the hub during deployment.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>Note:</strong> For other job types, you can choose to push the artifacts either to the Azure blob or store it in Jenkins. Pushing the jobs to the Azure blob also stores a copy in Jenkins but not vice versa. To push to Azure blob, ensure you have set up your Ansible hosts and <strong>common.yml</strong> and <strong>secrets.yml</strong> files. The default behaviour is to store in Jenkins job only.</p>
</blockquote>

<h3 id="deploy-jobs">Deploy Jobs</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>artifact_source</td>
      <td>In deploy jobs, the artifact is downloaded or pulled from the option specified. This is the opposite of the behaviour in ArtifactUpload jobs.</td>
    </tr>
    <tr>
      <td>artifact_version</td>
      <td>If you leave this value empty, by default it will take the version specified in the <strong>metadata.json</strong> file and deploy that version. In case you want to deploy some other version, you can provide the version value here.This is useful when you want to roll back to a previous version from current version.</td>
    </tr>
    <tr>
      <td>private_branch</td>
      <td>In this parameter you can specify the private branch. Specifying a value in this parameter allows you to override the global value set in the global variable <strong>private_repo_branch</strong>, thus allowing you to check out the inventory and variables from the branch specified here. By default it shows the value which is in the global variable <strong>private_repo_branch</strong>.</td>
    </tr>
    <tr>
      <td>branch_or_tag</td>
      <td>In this parameter you can specify the branch or tag of a repository. The public code like Ansible playbooks will be checked out from this branch or tag. Since each repository can have a different tag or branch, you need to specify this value. Refer to <a href="/developer-docs/server-installation/current_release_tags_n_jenkins_jobs" target="_blank">Current Release Tags and Jenkins Jobs Reference</a> for details on the latest tags.</td>
    </tr>
  </tbody>
</table>

<h3 id="summary-jobs">Summary Jobs</h3>

<p>Every deploy folder has a summary job. This job consists of a <strong>summary.txt</strong> file that has details of all the versions currently deployed. You can use this file to see which version of the artifact is currently deployed in that environment.</p>

<h3 id="artifact-pushes">Artifact Pushes</h3>

<p>1.The default configuration uploads the artifacts (zip, jar, etc files) to Azure blob and the docker containers to the configured container registry.
2.It is mandatory to have a hub account to push the docker container.</p>
<ol>
  <li>If you would not like to use the Azure storage to store artifacts, like zip files which get generated after a build, you can change the jenkins job configuration to not use Azure. To do this, go to the Jenkins ArtifactUpload jobs and change the order from [ArtifactRepo, JenkinsJob] to [JenkinsJob, ArtifactRepo].</li>
</ol>

<h2 id="log-rotation">Log Rotation</h2>
<p>   
By default, the Jenkins configuration for log rotation for build jobs is set to 1 and for all other builds it is set to 5. However, you can change this value under <strong>job configuration</strong> -&gt; <strong>Discard old builds</strong> -&gt; <strong>Advanced</strong> -&gt; <strong>Max # of build artifacts to keep</strong>.</p>

<blockquote>
  <p><strong>Note</strong>: When the <strong>jenkins-jobs-setup.sh</strong> script is triggered, it overwrites these changes. You can run a simple find and replace using any editor to make the configuration changes as per your requirement. The find and replace needs to be run on the <strong>config.xml</strong> files. This can be done even before the <strong>jenkins-jobs</strong> script runs or later in the <strong>/var/lib/jenkins/jobs</strong> directory.
Ensure you take a backup.</p>
</blockquote>

          
          <hr />
          
          <p class="edit-para text-right">
			<a target="_blank" href="https://github.com/project-sunbird/sunbird.org-docs/edit/api-documentation/developer-docs/server-installation/understanding-jenkins-scripts-jobs-parameters-and-variables.md" title="Fix this page">
				<i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit</a> |
			<a target="_blank" href="https://github.com/project-sunbird/sunbird.org-docs/issues" title="Report issue">
				<i class="fa fa-exclamation-circle" aria-hidden="true"></i> Report</a>
		  </p>
		  <a href="developer-docs/server-installation/understanding-jenkins-scripts-jobs-parameters-and-variables/#heading" class="scrollup"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></a>
          
      </div>
    </div>
    <div class="page-footer">
		<footer class="footer">
	<div class="footer__top">
		<div class="container">
			<div class="row">
				
			<div class="col-md-4 col-sm-12">
			</div>
			
			<div class="col-md-2 col-sm-6 ">
				<ul>
					<li><a href="http://www.sunbird.org/about/" target="_blank">About Sunbird</a></li>
					<li><a href="http://www.sunbird.org/contact/" target="_blank">Contact Us</a></li>
				</ul>
			</div>
			
			<div class="col-md-2 col-sm-6 sideline">
				<ul>
					<li><a href="http://www.sunbird.org/privacy-policy/" target="_blank">Privacy Policy</a></li>
					<li><a href="http://www.sunbird.org/features/" target="_blank">Microservices</a></li>
				</ul>
			</div>

			<div class="col-md-2 col-sm-12">
			</div>
			
		</div>
	</div>
</footer>
 

	</div>
  </div>
  <script type="text/javascript">
	//TOC Toggle
    $(function() {
        $.toc.clickHideButton();
    });
    //Scroll to top
    $(document).ready(function () {
		$(".content").scroll(function () {
			if ($(this).scrollTop() > 250) {
				$('.scrollup').fadeIn();
			} else {
				$('.scrollup').fadeOut();
			}
		});
	});
	$('#toc a').each(function(){
		var url = this.href.replace(baseURL.href, "");
		this.href = 'developer-docs/server-installation/understanding-jenkins-scripts-jobs-parameters-and-variables/' + url;
    })
	$(".zoomcover").click(function(){
		if (!$(this).hasClass("fullscreen")){
			$(this).addClass("fullscreen");
			$(this).find(".zoom").addClass("enabled").elevateZoom({
				zoomType: "inner",
				cursor  : "crosshair",
				scrollZoom: "true"
			});
		} else {
			$(this).removeClass("fullscreen");
			$(this).find(".zoom").removeClass("enabled");
			$(".zoomContainer").hide();
		}
	});
	$(document).keyup(function(e) {
     if (e.keyCode == 27) { 
		$(".zoomcover").removeClass("fullscreen");
		$(".zoomcover").find(".zoom").removeClass("enabled");
		$(".zoomContainer").hide();
    }
});
  </script>
  <style>
  .zoom:hover{
	cursor:url(/img/zoom.png),crosshair;
  }
  .zoomWindowContainer:hover div{
	cursor:url(/img/scroll.png),crosshair !important;
	height:15px;
	width:15px;
  }
  </style>
  <div id="templates"></div>
  </body>
</html>
